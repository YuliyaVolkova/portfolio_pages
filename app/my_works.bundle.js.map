{"version":3,"sources":["webpack:///app/my_works.bundle.js","webpack:///./app/components/c-hamburger.js","webpack:///./app/my_works.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","Object","defineProperty","value","hamburgerNav","insertOverlay","button","removeEventListener","body","appendChild","overlay","style","transform","classList","remove","close","querySelector","parentElement","addEventListener","closeOverlay","isEsc","openOverlay","e","preventDefault","add","removeClassAnimate","this","document","component","template","createOverlay","createElement","innerHTML","which","handler","default","52","53","_interopRequireDefault","obj","__esModule","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_svg4everybody","_svg4everybody2","_cHamburger","_cHamburger2","init","scrollWorks","blurResize","showSection","hash","getAttribute","window","location","sectionAct","replace","scrollPos","arrOffset","sections","indexOf","animateMove","querySelectorAll","toNextBut","toFirstBut","map","item","offsetTop","container","animate","options","start","performance","now","startPos","scrollTop","requestAnimationFrame","_animate","time","timeFraction","duration","progress","timing","move","wrapper","blurForm","setBg","backgroundPosition","onload","console","log","54"],"mappings":"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","file":"app/my_works.bundle.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar hamburgerNav = function () {\n\n  var body = document.body,\n      component = body.querySelector('.c-hamburger-nav'),\n      button = component.querySelector('#openOverlay'),\n      overlay = void 0,\n      template = component.querySelector('#hamburgerTemplate');\n\n  var createOverlay = function createOverlay() {\n    overlay = document.createElement('div');\n    overlay.classList.add('overlay');\n    overlay.innerHTML = template.innerHTML;\n  };\n\n  var isEsc = function isEsc(e) {\n    switch (e.which) {\n      case 27:\n        closeOverlay(e);\n        break;\n      default:\n        return;\n    }\n    return false;\n  };\n\n  function insertOverlay() {\n    button.removeEventListener('animationend', insertOverlay, false);\n    body.appendChild(overlay);\n    button.style.transform = 'scale(0.001)';\n    button.classList.remove('animate');\n    var close = overlay.querySelector('#closeOverlay'),\n        homeLink = overlay.querySelector('.c-hamburger-nav__link[href=\"#\"]').parentElement;\n    homeLink.addEventListener('click', closeOverlay, false);\n    close.addEventListener('click', closeOverlay, false);\n    body.addEventListener('keydown', isEsc, false);\n  }\n\n  function openOverlay(e) {\n    e.preventDefault();\n    button.classList.add('animate');\n    button.addEventListener('animationend', insertOverlay, false);\n  }\n\n  function removeClassAnimate() {\n    this.removeEventListener('animationend', removeClassAnimate, false);\n    button.style.transform = 'scale(1.1)';\n    overlay.remove();\n    this.classList.remove('animate');\n    button.addEventListener('click', openOverlay, false);\n  }\n\n  function closeOverlay(e) {\n\n    e.preventDefault();\n    var close = overlay.querySelector('#closeOverlay');\n    close.removeEventListener('click', closeOverlay, false);\n    body.removeEventListener('keydown', isEsc, false);\n    close.classList.add('animate');\n    close.addEventListener('animationend', removeClassAnimate, false);\n  }\n\n  var handler = function handler() {\n    createOverlay();\n    button.addEventListener('click', openOverlay, false);\n  };\n\n  return { handler: handler };\n}();\n\nexports.default = hamburgerNav;\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(53);\n\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(1);\n\n__webpack_require__(54);\n\nvar _svg4everybody = __webpack_require__(2);\n\nvar _svg4everybody2 = _interopRequireDefault(_svg4everybody);\n\nvar _cHamburger = __webpack_require__(0);\n\nvar _cHamburger2 = _interopRequireDefault(_cHamburger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(0, _svg4everybody2.default)();\n\n\n///*------------------------------------\n///* init app my_works-page\n///*------------------------------------\nvar init = function init() {\n  scrollWorks.handler();\n  _cHamburger2.default.handler();\n  blurResize.handler();\n};\n\n///*------------------------------------\n///* move to sections\n///*------------------------------------\nvar scrollWorks = function () {\n\n  var body = document.body,\n      sections = [].concat(_toConsumableArray(body.querySelectorAll('.l-section'))),\n      toNextBut = body.querySelector('#next'),\n      toFirstBut = body.querySelector('#first'),\n      arrOffset = sections.map(function (item) {\n    return item.offsetTop;\n  }),\n      container = body.querySelector('.l-scroll-parallax-container');\n\n  function showSection(e) {\n    var hash = this.getAttribute('href') || window.location.hash,\n        sectionAct = body.querySelector('.l-section[data-section=\"' + hash.replace(/#/, '') + '\"'),\n        scrollPos = arrOffset[sections.indexOf(sectionAct)];\n    animateMove(e, scrollPos);\n  }\n\n  var animate = function animate(options) {\n    var start = performance.now(),\n        startPos = container.scrollTop;\n    requestAnimationFrame(function _animate(time) {\n      // timeFraction от 0 до 1\n      var timeFraction = (time - start) / options.duration;\n      if (timeFraction > 1) timeFraction = 1;\n      // текущее состояние анимации\n      var progress = options.timing(timeFraction);\n      options.move(progress, startPos);\n      if (timeFraction < 1) {\n        requestAnimationFrame(_animate);\n      }\n    });\n  };\n\n  var animateMove = function animateMove(e, scrollPos) {\n    e.preventDefault();\n    animate({\n      duration: 900,\n      timing: function timing(timeFraction) {\n        return timeFraction;\n      },\n      move: function move(progress, startPos) {\n        container.scrollTop = startPos + (scrollPos - startPos) * progress;\n      }\n    });\n  };\n\n  var handler = function handler() {\n    toNextBut.addEventListener('click', showSection, false);\n    toFirstBut.addEventListener('click', showSection, false);\n  };\n\n  return { handler: handler };\n}();\n///*------------------------------------\n///* blur bg to feeds-form\n///*-------------------------------------\nvar blurResize = function () {\n  var body = document.body,\n      wrapper = body.querySelector('.c-feeds-form-bg'),\n      blurForm = body.querySelector('.c-feeds-blured');\n\n  var setBg = function setBg() {\n    var offsetTop = -wrapper.offsetTop - 210; //210 ?\n    blurForm.style.backgroundPosition = 'center ' + offsetTop + 'px';\n  };\n\n  var handler = function handler() {\n    setBg();\n    window.addEventListener('resize', setBg, false);\n  };\n\n  return { handler: handler };\n}();\n///*------------------------------------------------\n///* -----------run app-----------------------------\n///*------------------------------------------------\nwindow.onload = init;\nconsole.log('It` work %%%!');\n\n/***/ }),\n\n/***/ 54:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[52]);\n\n\n// WEBPACK FOOTER //\n// app/my_works.bundle.js","'use strict';\r\n\r\nconst hamburgerNav = (function() {\r\n\r\n  let body = document.body,\r\n    component = body.querySelector('.c-hamburger-nav'),\r\n    button = component.querySelector('#openOverlay'),\r\n    overlay,\r\n    template = component.querySelector('#hamburgerTemplate');\r\n\r\n  const createOverlay = () => {\r\n    overlay = document.createElement('div');\r\n    overlay.classList.add('overlay');\r\n    overlay.innerHTML = template.innerHTML;\r\n  };\r\n    \r\n  const isEsc = e => {\r\n    switch(e.which) {\r\n    case 27: closeOverlay(e);\r\n      break;       \r\n    default: return;\r\n    }\r\n    return false;\r\n  };   \r\n\r\n  function insertOverlay() {\r\n    button.removeEventListener('animationend', insertOverlay, false);\r\n    body.appendChild(overlay);\r\n    button.style.transform = 'scale(0.001)';\r\n    button.classList.remove('animate');\r\n    let close = overlay.querySelector('#closeOverlay'),\r\n      homeLink = overlay.querySelector('.c-hamburger-nav__link[href=\"#\"]').parentElement;\r\n    homeLink.addEventListener('click', closeOverlay, false);  \r\n    close.addEventListener('click', closeOverlay, false);\r\n    body.addEventListener('keydown', isEsc, false);\r\n  }\r\n\r\n  function openOverlay(e) {\r\n    e.preventDefault();\t\r\n    button.classList.add('animate');\r\n    button.addEventListener('animationend', insertOverlay, false);\r\n  }\r\n\r\n  function removeClassAnimate() {\r\n    this.removeEventListener('animationend', removeClassAnimate, false);\r\n    button.style.transform = 'scale(1.1)';\r\n    overlay.remove();\r\n    this.classList.remove('animate');\r\n    button.addEventListener('click', openOverlay, false);\r\n  }\r\n\t\r\n  function closeOverlay(e) {\r\n   \r\n    e.preventDefault();\r\n    let close = overlay.querySelector('#closeOverlay');\r\n    close.removeEventListener('click', closeOverlay, false);\r\n    body.removeEventListener('keydown', isEsc, false);\r\n    close.classList.add('animate');\r\n    close.addEventListener('animationend', removeClassAnimate, false);\r\n  }\r\n\r\n  const handler = () => {\r\n    createOverlay();\r\n    button.addEventListener('click', openOverlay, false);\r\n  };\r\n\r\n  return {handler};\r\n})();\r\n\r\nexport default hamburgerNav;\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/c-hamburger.js","import 'normalize.css'; \r\nimport '../assets/styles/my_works.main.scss';\r\nimport svg4everybody from 'svg4everybody';\r\nsvg4everybody();\r\nimport hamburgerNav from './components/c-hamburger.js';\r\n\r\n///*------------------------------------\r\n///* init app my_works-page\r\n///*------------------------------------\r\nconst init = () => {\r\n  scrollWorks.handler();\r\n  hamburgerNav.handler();\r\n  blurResize.handler();\r\n};\r\n\r\n///*------------------------------------\r\n///* move to sections\r\n///*------------------------------------\r\nconst scrollWorks = (() => {\r\n\r\n  let body = document.body,\r\n    sections = [...body.querySelectorAll('.l-section')],\r\n    toNextBut = body.querySelector('#next'),\r\n    toFirstBut = body.querySelector('#first'),\r\n    arrOffset = sections.map((item) => item.offsetTop),\r\n    container = body.querySelector('.l-scroll-parallax-container');\r\n\r\n  function showSection(e) {\r\n    let hash = this.getAttribute('href')||window.location.hash,\r\n      sectionAct = body.querySelector(`.l-section[data-section=\"${hash.replace(/#/,'')}\"`),\r\n      scrollPos = arrOffset[sections.indexOf(sectionAct)];\r\n    animateMove(e, scrollPos);\r\n  }\r\n\r\n  const animate = options => {\r\n    let start = performance.now(),\r\n      startPos = container.scrollTop;\r\n    requestAnimationFrame(function _animate(time) {\r\n    // timeFraction от 0 до 1\r\n      let timeFraction = (time - start) / options.duration;\r\n      if (timeFraction > 1) timeFraction = 1;\r\n      // текущее состояние анимации\r\n      let progress = options.timing(timeFraction);\r\n      options.move(progress, startPos);\r\n      if (timeFraction < 1) {\r\n        requestAnimationFrame(_animate);\r\n      }\r\n    });\r\n  };\r\n\r\n  const animateMove = (e, scrollPos) => {\r\n    e.preventDefault();\r\n    animate({\r\n      duration: 900,\r\n      timing: function(timeFraction) {\r\n        return timeFraction;\r\n      },\r\n      move: function(progress, startPos) {\r\n        container.scrollTop = startPos + (scrollPos- startPos)*(progress);\r\n      },\r\n    });\r\n  };\r\n\r\n  const handler = () => {\r\n    toNextBut.addEventListener('click', showSection, false);\r\n    toFirstBut.addEventListener('click', showSection, false);\r\n  };\r\n\r\n  return {handler};\r\n})();\r\n///*------------------------------------\r\n///* blur bg to feeds-form\r\n///*-------------------------------------\r\nconst blurResize = (() => {\r\n  let body = document.body,\r\n    wrapper = body.querySelector('.c-feeds-form-bg'),\r\n    blurForm = body.querySelector('.c-feeds-blured');\r\n    \r\n  const setBg = () => {\r\n    let offsetTop = -wrapper.offsetTop - 210; //210 ?\r\n    blurForm.style.backgroundPosition = `center ${offsetTop}px`;\r\n  };\r\n\r\n  const handler = () => {\r\n    setBg();\r\n    window.addEventListener('resize', setBg, false);\r\n  };\r\n\r\n  return {handler};\r\n})();\r\n///*------------------------------------------------\r\n///* -----------run app-----------------------------\r\n///*------------------------------------------------\r\nwindow.onload = init;\r\nconsole.log('It` work %%%!');\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/my_works.js"],"sourceRoot":""}