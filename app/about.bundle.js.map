{"version":3,"sources":["webpack:///app/about.bundle.js","webpack:///./app/about.js","webpack:///./app/components/diagramm_skills.js"],"names":["webpackJsonp","31","module","exports","__webpack_require__","32","_interopRequireDefault","obj","__esModule","default","_svg4everybody","_svg4everybody2","_diagramm_skills","_diagramm_skills2","window","onload","scrollAbout","handler","init","console","log","getSection","scrollPos","arrOffset","i","length","checkScroll","pageYOffset","document","documentElement","scrollTop","index","location","hash","sections","getAttribute","showSection","e","this","dataSect","split","join","sectionAct","body","querySelector","nodesSections","indexOf","animateMove","querySelectorAll","nextBut","Array","prototype","slice","call","map","item","offsetTop","flag","animate","options","start","performance","now","startPos","requestAnimationFrame","_animate","time","timeFraction","duration","progress","timing","move","preventDefault","addEventListener","33","34","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","diagrammsSkills","draw","createExSkills","data","arrItems","group","createElement","groupTitle","skillsContainer","classList","add","textContent","appendChild","containerSkills","j","skills","Skill","width","container","title","skillTitle","percent","scrollAnimate","currentTarget","skillsSectHeight","firstSectHeight","setTimeout","clientHeight","svgns","svg","createElementNS","height","radius","strokeDasharray","Math","PI","setAttribute","baseCircle","createCircle","bgCircle","color","isBase","arguments","circle","cx","cy","titleSvg"],"mappings":"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","file":"app/about.bundle.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 31:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(32);\n\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(0);\n\n__webpack_require__(33);\n\nvar _svg4everybody = __webpack_require__(1);\n\nvar _svg4everybody2 = _interopRequireDefault(_svg4everybody);\n\nvar _diagramm_skills = __webpack_require__(34);\n\nvar _diagramm_skills2 = _interopRequireDefault(_diagramm_skills);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _svg4everybody2.default)();\n\nwindow.onload = function () {\n\n  scrollAbout.handler();\n  _diagramm_skills2.default.init();\n};\nconsole.log('It` work %%%!');\n\nvar scrollAbout = function () {\n\n  var sections = document.body.querySelectorAll('.l-section'),\n      nextBut = document.body.querySelector('#next'),\n      nodesSections = Array.prototype.slice.call(sections),\n      arrOffset = nodesSections.map(function (item) {\n    return item.offsetTop;\n  });\n  var flag = false;\n\n  function getSection(scrollPos) {\n    if (scrollPos <= arrOffset[0]) return 0;\n    for (var i = 0; i < arrOffset.length - 1; i++) {\n      if (scrollPos > arrOffset[i] && scrollPos < arrOffset[i + 1]) return i;\n    }\n    return arrOffset.length - 1;\n  }\n\n  function checkScroll() {\n    var scrollPos = window.pageYOffset || document.documentElement.scrollTop;\n    var index = getSection(scrollPos + 50);\n    window.location.hash = sections[index].getAttribute('data-section');\n  }\n\n  function showSection(e) {\n    if (!window.location.hash && !e) return;\n    var hash = e ? this.getAttribute('href') : window.location.hash,\n        dataSect = hash.split('#').join(''),\n        sectionAct = document.body.querySelector('.l-section[data-section=\"' + dataSect + '\"'),\n        index = nodesSections.indexOf(sectionAct);\n    var scrollPos = arrOffset[index] - 25;\n    if (e) animateMove(e, scrollPos);else document.documentElement.scrollTop = document.body.scrollTop = scrollPos;\n  }\n\n  var animate = function animate(options) {\n    flag = true;\n    var start = performance.now();\n    var startPos = window.pageYOffset || document.documentElement.scrollTop;\n    requestAnimationFrame(function _animate(time) {\n      // timeFraction от 0 до 1\n      var timeFraction = (time - start) / options.duration;\n      if (timeFraction > 1) {\n        timeFraction = 1;\n        flag = false;\n      }\n      // текущее состояние анимации\n      var progress = options.timing(timeFraction);\n      options.move(progress, startPos);\n      if (timeFraction < 1) {\n        requestAnimationFrame(_animate);\n      }\n    });\n  };\n\n  var animateMove = function animateMove(e, scrollPos) {\n    e.preventDefault();\n    animate({\n      duration: 700,\n      timing: function timing(timeFraction) {\n        return timeFraction;\n      },\n      move: function move(progress, startPos) {\n        document.documentElement.scrollTop = document.body.scrollTop = startPos + (scrollPos - startPos) * progress;\n      }\n    });\n  };\n\n  var handler = function handler() {\n\n    showSection();\n    window.addEventListener('scroll', checkScroll, false);\n    nextBut.addEventListener('click', showSection, false);\n  };\n\n  return { handler: handler };\n}();\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar diagrammsSkills = function () {\n  var data = [{ groupTitle: 'Frontend',\n    skills: [{ skillTitle: 'HTML5 &CSS3', percent: '0.92' }, { skillTitle: 'Sass &Pug', percent: '0.85' }, { skillTitle: 'JavaScript &jQuery', percent: '0.85' }] }, { groupTitle: 'Backend',\n    skills: [{ skillTitle: 'PHP', percent: '0.3' }, { skillTitle: 'Node.js &npm', percent: '0.5' }, { skillTitle: 'mySQL', percent: '0.4' }, { skillTitle: 'Mongo.db', percent: '0.6' }] }, { groupTitle: 'Workflow',\n    skills: [{ skillTitle: 'Git', percent: '0.92' }, { skillTitle: 'Webpack', percent: '0.75' }, { skillTitle: 'Gulp', percent: '0.80' }] }],\n      containerSkills = document.querySelector('.c-skills-card__container'),\n      skillsSectHeight = document.querySelector('.l-main__wrapper').clientHeight,\n      firstSectHeight = document.querySelector('.l-hero').clientHeight,\n      arrItems = new Array();\n\n  var Skill = function () {\n    function Skill(options) {\n      _classCallCheck(this, Skill);\n\n      this.svgns = 'http://www.w3.org/2000/svg';\n      this.svg = document.createElementNS(this.svgns, 'svg');\n      this.width = options.width || 112;\n      this.height = options.height || this.width;\n      this.radius = this.width / 3;\n      this.percent = options.percent;\n      this.strokeDasharray = 2 * Math.PI * this.radius;\n      this.svg.setAttribute('width', this.width);\n      this.svg.setAttribute('height', this.height);\n      this.svg.setAttribute('opacity', options.percent);\n      this.svg.classList.add('svg_skill-diagr');\n      this.svg.setAttribute('viewBox', '0 0 ' + this.width + ' ' + this.height);\n      this.baseCircle = this.createCircle('rgb(0, 191, 165)', true);\n      this.bgCircle = this.createCircle('#ccc');\n      this.add(options.container, options.title);\n    }\n\n    _createClass(Skill, [{\n      key: 'createCircle',\n      value: function createCircle(color) {\n        var isBase = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        var circle = document.createElementNS(this.svgns, 'circle');\n        var cx = this.width / 2;\n        var cy = this.height / 2;\n        circle.setAttribute('cx', cx);\n        circle.setAttribute('cy', cy);\n        circle.setAttribute('r', this.radius);\n        circle.setAttribute('fill', 'none');\n        circle.setAttribute('stroke', color);\n        circle.setAttribute('stroke-width', '20');\n        if (isBase) {\n          circle.setAttribute('transform', 'rotate(-90 ' + cx + ' ' + cy + ')');\n          circle.setAttribute('stroke-dasharray', this.strokeDasharray);\n          circle.setAttribute('stroke-dashoffset', this.strokeDasharray);\n        }\n        return circle;\n      }\n    }, {\n      key: 'add',\n      value: function add(container, title) {\n        var item = document.createElement('div');\n        item.classList.add('c-skills-card__skill-item');\n        var titleSvg = document.createElement('div');\n        titleSvg.classList.add('c-skills-card__skill-title');\n        titleSvg.textContent = title;\n        this.svg.appendChild(this.bgCircle);\n        this.svg.appendChild(this.baseCircle);\n        item.appendChild(titleSvg);\n        item.appendChild(this.svg);\n        container.appendChild(item);\n        return this;\n      }\n    }, {\n      key: 'draw',\n      value: function draw(progress) {\n        this.baseCircle.setAttribute('stroke-dashoffset', (1 - progress * this.percent) * this.strokeDasharray);\n      }\n    }]);\n\n    return Skill;\n  }();\n\n  function animate(options) {\n    var start = performance.now();\n\n    requestAnimationFrame(function _animate(time) {\n      // timeFraction от 0 до 1\n      var timeFraction = (time - start) / options.duration;\n      if (timeFraction > 1) timeFraction = 1;\n      // текущее состояние анимации\n      var progress = options.timing(timeFraction);\n      options.draw(progress);\n      if (timeFraction < 1) {\n        requestAnimationFrame(_animate);\n      }\n    });\n  }\n\n  function createExSkills(data) {\n    var width = 145;\n    for (var i = 0; i <= data.length - 1; i++) {\n      arrItems[i] = new Array();\n      var group = document.createElement('li');\n      var groupTitle = document.createElement('div');\n      var skillsContainer = document.createElement('div');\n      group.classList.add('c-skills-card__group');\n      groupTitle.classList.add('c-skills-card__group-title');\n      skillsContainer.classList.add('c-skills-card__group-content');\n      groupTitle.textContent = data[i].groupTitle;\n      group.appendChild(groupTitle);\n      group.appendChild(skillsContainer);\n      containerSkills.appendChild(group);\n      for (var j = 0; j <= data[i].skills.length - 1; j++) {\n        arrItems[i][j] = new Skill({ width: width, container: skillsContainer, title: data[i].skills[j].skillTitle, percent: data[i].skills[j].percent });\n      }\n    }\n  }\n\n  function scrollAnimate(e) {\n    var pageYOffset = e.currentTarget.pageYOffset;\n    if (pageYOffset > skillsSectHeight || pageYOffset > firstSectHeight - 400 && pageYOffset < skillsSectHeight) return;\n    setTimeout(function () {\n      animate({\n        duration: 1000,\n        timing: function timing(timeFraction) {\n          return timeFraction;\n        },\n        draw: function draw(progress) {\n          for (var i = 0; i <= arrItems.length - 1; i++) {\n            for (var j = 0; j <= arrItems[i].length - 1; j++) {\n              arrItems[i][j].draw(progress);\n            }\n          }\n        }\n      });\n    }, 50);\n  }\n\n  function init() {\n    createExSkills(data);\n    window.addEventListener('scroll', scrollAnimate, false);\n  }\n  return { init: init };\n}();\n\nexports.default = diagrammsSkills;\n\n/***/ })\n\n},[31]);\n\n\n// WEBPACK FOOTER //\n// app/about.bundle.js","import 'normalize.css';\r\nimport '../assets/styles/about.main.scss';\r\nimport svg4everybody from 'svg4everybody';\r\nsvg4everybody();\r\n\r\nimport diagrammsSkills from './components/diagramm_skills.js';\r\n\r\nwindow.onload = function() {\r\n\r\n  scrollAbout.handler();\r\n  diagrammsSkills.init();\r\n};\r\nconsole.log('It` work %%%!');\r\n\r\nconst scrollAbout = (() => {\r\n\r\n  const sections = document.body.querySelectorAll('.l-section'),\r\n    nextBut = document.body.querySelector('#next'),\r\n    nodesSections = Array.prototype.slice.call(sections),\r\n    arrOffset = nodesSections.map((item) => item.offsetTop);\r\n  var  flag = false;\r\n\r\n  \r\n  function getSection(scrollPos)  {\r\n    if(scrollPos<=arrOffset[0]) return 0;\r\n    for (var i = 0; i < arrOffset.length-1; i++) {\r\n      if(scrollPos>arrOffset[i]&&scrollPos<arrOffset[i+1])\r\n        return i;\r\n    }\r\n    return arrOffset.length-1;\r\n  }\r\n\r\n  function checkScroll() {\r\n    const scrollPos = window.pageYOffset || document.documentElement.scrollTop;\r\n    const index = getSection(scrollPos+50);\r\n    window.location.hash = sections[index].getAttribute('data-section');\r\n  }\r\n\r\n  function showSection(e) {\r\n    if(!window.location.hash&&!e) return;\r\n    const hash = e?this.getAttribute('href'):window.location.hash,\r\n      dataSect = hash.split('#').join(''),\r\n      sectionAct = document.body.querySelector(`.l-section[data-section=\"${dataSect}\"`),\r\n      index = nodesSections.indexOf(sectionAct);\r\n    var scrollPos = arrOffset[index]-25;\r\n    if(e) animateMove(e, scrollPos);\r\n    else \r\n      document.documentElement.scrollTop = document.body.scrollTop = scrollPos;\r\n  }\r\n\r\n  const animate = (options) => {\r\n    flag = true;\r\n    let start = performance.now();\r\n    var startPos = window.pageYOffset || document.documentElement.scrollTop;\r\n    requestAnimationFrame(function _animate(time) {\r\n    // timeFraction от 0 до 1\r\n      let timeFraction = (time - start) / options.duration;\r\n      if (timeFraction > 1) {timeFraction = 1;\r\n        flag = false;}\r\n      // текущее состояние анимации\r\n      let progress = options.timing(timeFraction);\r\n      options.move(progress, startPos);\r\n      if (timeFraction < 1) {\r\n        requestAnimationFrame(_animate);\r\n      }\r\n    });\r\n  };\r\n\r\n  const animateMove = (e, scrollPos) => {\r\n    e.preventDefault();\r\n    animate({\r\n      duration: 700,\r\n      timing: function(timeFraction) {\r\n        return timeFraction;\r\n      },\r\n      move: function(progress, startPos) {\r\n        document.documentElement.scrollTop = document.body.scrollTop = startPos + (scrollPos- startPos)*(progress);\r\n      },\r\n    });\r\n  };\r\n\r\n  const handler = () => {\r\n\r\n    showSection();\r\n    window.addEventListener('scroll', checkScroll, false);\r\n    nextBut.addEventListener('click', showSection, false);\r\n  };\r\n\r\n  return {handler};\r\n})();\n\n\n// WEBPACK FOOTER //\n// ./app/about.js","\r\nconst diagrammsSkills = (() => {\r\n  const data = [{groupTitle: 'Frontend',\r\n      skills: [{skillTitle: 'HTML5 &CSS3', percent: '0.92'},\r\n        {skillTitle: 'Sass &Pug', percent: '0.85'},\r\n        {skillTitle: 'JavaScript &jQuery', percent: '0.85'}]},\r\n    {groupTitle: 'Backend', \r\n      skills: [{skillTitle: 'PHP', percent: '0.3'},\r\n        {skillTitle: 'Node.js &npm', percent: '0.5'},\r\n        {skillTitle: 'mySQL', percent: '0.4'},\r\n        {skillTitle: 'Mongo.db', percent: '0.6'}]},\r\n    {groupTitle: 'Workflow', \r\n      skills: [{skillTitle: 'Git', percent: '0.92'},\r\n        {skillTitle: 'Webpack', percent: '0.75'},\r\n        {skillTitle: 'Gulp', percent: '0.80'}]},\r\n    ],\r\n    containerSkills = document.querySelector('.c-skills-card__container'),\r\n    skillsSectHeight = document.querySelector('.l-main__wrapper').clientHeight,\r\n    firstSectHeight = document.querySelector('.l-hero').clientHeight,\r\n    arrItems = new Array();\r\n\r\n  class Skill {\r\n    constructor(options) {\r\n      this.svgns = 'http://www.w3.org/2000/svg';\r\n      this.svg = document.createElementNS(this.svgns, 'svg');\r\n      this.width = options.width||112;\r\n      this.height = options.height||this.width;\r\n      this.radius = this.width / 3;\r\n      this.percent = options.percent;\r\n      this.strokeDasharray = 2 * Math.PI * this.radius;\r\n      this.svg.setAttribute('width', this.width);\r\n      this.svg.setAttribute('height', this.height);\r\n      this.svg.setAttribute('opacity', options.percent);\r\n      this.svg.classList.add('svg_skill-diagr');\r\n      this.svg.setAttribute('viewBox', `0 0 ${this.width} ${this.height}`);\r\n      this.baseCircle = this.createCircle('rgb(0, 191, 165)', true);\r\n      this.bgCircle = this.createCircle('#ccc');\r\n      this.add(options.container, options.title);   \r\n    }\r\n\r\n    createCircle(color, isBase = false) {\r\n      const circle = document.createElementNS(this.svgns, 'circle');\r\n      const cx = this.width / 2;\r\n      const cy = this.height / 2;\r\n      circle.setAttribute('cx', cx);\r\n      circle.setAttribute('cy', cy);\r\n      circle.setAttribute('r', this.radius);\r\n      circle.setAttribute('fill', 'none');\r\n      circle.setAttribute('stroke', color);\r\n      circle.setAttribute('stroke-width', '20');\r\n      if (isBase) {\r\n        circle.setAttribute('transform', `rotate(-90 ${cx} ${cy})`);\r\n        circle.setAttribute('stroke-dasharray', this.strokeDasharray);\r\n        circle.setAttribute('stroke-dashoffset', this.strokeDasharray);\r\n      }\r\n      return circle;\r\n    }\r\n\r\n    add(container, title) {\r\n      const item = document.createElement('div');\r\n      item.classList.add('c-skills-card__skill-item');\r\n      const titleSvg = document.createElement('div');\r\n      titleSvg.classList.add('c-skills-card__skill-title');\r\n      titleSvg.textContent = title;\r\n      this.svg.appendChild(this.bgCircle);\r\n      this.svg.appendChild(this.baseCircle);\r\n      item.appendChild(titleSvg);\r\n      item.appendChild(this.svg);\r\n      container.appendChild(item);\r\n      return this;\r\n    }\r\n\r\n    draw(progress) {\r\n      this.baseCircle.setAttribute(\r\n        'stroke-dashoffset',\r\n        (1 - progress * this.percent) * this.strokeDasharray\r\n      );\r\n    }\r\n  }\r\n\r\n  function animate(options) {\r\n    let start = performance.now();\r\n\r\n    requestAnimationFrame(function _animate(time) {\r\n    // timeFraction от 0 до 1\r\n      let timeFraction = (time - start) / options.duration;\r\n      if (timeFraction > 1) timeFraction = 1;\r\n      // текущее состояние анимации\r\n      let progress = options.timing(timeFraction);\r\n      options.draw(progress);\r\n      if (timeFraction < 1) {\r\n        requestAnimationFrame(_animate);\r\n      }\r\n    });\r\n  }\r\n\r\n  function createExSkills(data) {\r\n    const width = 145;\r\n    for (var i = 0; i <= data.length - 1; i++) {\r\n      arrItems[i] = new Array();\r\n      const group = document.createElement('li');\r\n      const groupTitle = document.createElement('div');\r\n      const skillsContainer = document.createElement('div');\r\n      group.classList.add('c-skills-card__group');\r\n      groupTitle.classList.add('c-skills-card__group-title');\r\n      skillsContainer.classList.add('c-skills-card__group-content');\r\n      groupTitle.textContent = data[i].groupTitle;\r\n      group.appendChild(groupTitle);\r\n      group.appendChild(skillsContainer);\r\n      containerSkills.appendChild(group);\r\n      for (var j = 0; j <= data[i].skills.length - 1; j++) {\r\n        arrItems[i][j] = new Skill({width: width, container: skillsContainer, title: data[i].skills[j].skillTitle, percent: data[i].skills[j].percent});\r\n      }\r\n    }\r\n  }\r\n\r\n  function scrollAnimate(e) {\r\n    const pageYOffset = e.currentTarget.pageYOffset;\r\n    if(pageYOffset>skillsSectHeight||pageYOffset>firstSectHeight-400&&pageYOffset<skillsSectHeight) return;\r\n    setTimeout(function() {animate({\r\n      duration: 1000,\r\n      timing: function(timeFraction) {\r\n        return timeFraction;\r\n      },\r\n      draw: function(progress) {\r\n        for (var i = 0; i <= arrItems.length - 1; i++) {\r\n          for (var j = 0; j <= arrItems[i].length - 1; j++) {\r\n            arrItems[i][j].draw(progress);\r\n          }\r\n        }\r\n      },\r\n    });}, 50);\r\n  }\r\n\r\n  function init() {\r\n    createExSkills(data);\r\n    window.addEventListener('scroll', scrollAnimate, false);\r\n  }\r\n  return {init};\r\n})();\r\n\r\nexport default diagrammsSkills;\n\n\n// WEBPACK FOOTER //\n// ./app/components/diagramm_skills.js"],"sourceRoot":""}